>你是否想过做一个远程可以操控的小车，无论在何时何地可以随心所欲的操控。于是，本次更新加入了小车控制模块，一起来看看吧。

# 主要更新
- 取消登录页面，改为同步按钮，可通过微信ID实现对数据的同步。
- 新增WiFi小车板块，实现对小车灯光、方向、电机的控制。


![效果图](https://xiaoyaozi666.oss-cn-beijing.aliyuncs.com/image_20260201234037.png)

# 小车模块说明

**灯光模块**

- `左转灯功能`。json数据为开灯`{"L":1}`，关灯`{"L":0}`。
- `车灯功能`。json数据，开灯`{"D":1}`，关灯`{"D":0}`
- `双闪灯功能`。json数据，开灯`{"SOS":1}`，关灯`{"SOS":0}`
- `右转灯功能`。 开灯`{"R":1}`，关灯`{"R":0}`
- `倒车灯`。json数据为，开灯`{"RR":1}`,关灯`{"RR":0}`

**灯光演示**

1

**方向控制**

通过转动方向盘范围（0~±90°）来映射舵机转动，从而控制小车方向转动。向左记为负，向右记为正。如 方向盘向左转动20°。发送json数据为{"fx":-20} ,向右转动 15°，发送数据为{"fx":15}。当设备收到mqtt数据后，从而控制SG90舵机实现转动，从而控制设备。


![](https://xiaoyaozi666.oss-cn-beijing.aliyuncs.com/fx_20260201235027.gif)


![舵机设计](https://xiaoyaozi666.oss-cn-beijing.aliyuncs.com/f471e054f879206175a7b378ab36f9a9_20260202000056.jpg)


![](https://xiaoyaozi666.oss-cn-beijing.aliyuncs.com/image_20260202000202.png)


**状态控制**

对于电机的控制，设计三个按钮（前进挡`D` 后退挡`R` 、停车挡`P`）默认为P挡。用户在操作时，先点击挡位按钮，便可以控制小车了。对应的json数据为：前进挡`{"car":1}` 后退挡`{"car":-1}` 停车挡`{"car":0}`

![](https://xiaoyaozi666.oss-cn-beijing.aliyuncs.com/image_20260202000233.png)

**视频效果**

1

# 数据说明
小车完整json数据为
```json
 {"fx":0,"car":-1,"L":0,"R":0,"D":0,"SOS":0,"RR":1}
```
`fx`:方向，`car`:挡位状态，`L`:左转灯状态 `R`:右转灯状态 `D`:前大灯状态 `sos`:双闪灯，`RR`:倒车灯状态

可以根据json数据状态，在esp8266或者在Arduino开发板中写入相关代码，让相应的脚针做出指定状态。如：

`左转灯功能`。json数据为开灯{"L":1}，关灯{"L":0}。使Arduino R4 的2号脚针输出高电平，默认为低电平（{"L":0}）。需要注意的是，当收到jison为{"L":1}时，我们需要做闪烁效果，模拟左转向效果。因此，需要(高-低-高-低……)每隔0.5s转换。当收到关灯{"L":0}时，直接低电平关闭即可。
